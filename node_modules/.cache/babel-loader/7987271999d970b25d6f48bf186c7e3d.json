{"ast":null,"code":"import { fromJS } from 'immutable';\nimport * as actionTypes from './actionTypes';\nimport recommend_list_1 from '../../../statics/recommend-list-1.png';\nimport recommend_list_2 from '../../../statics/recommend-list-2.png';\nimport recommend_list_3 from '../../../statics/recommend-list-3.png';\nimport recommend_list_4 from '../../../statics/recommend-list-4.png';\nconst defaultState = fromJS({\n  pageNow: 1,\n  lastArticle: false,\n  articleList: [],\n  recommendList: [] // backToTopShown: false\n\n});\n\nconst generate_initial_data = (state, action) => {\n  var newRecommendList = action.recommendList;\n  newRecommendList[0].pic = recommend_list_1;\n  newRecommendList[1].pic = recommend_list_2;\n  newRecommendList[2].pic = recommend_list_3;\n  newRecommendList[3].pic = recommend_list_4;\n  return state.set('recommendList', newRecommendList);\n};\n\nconst more_page = state => {\n  var page = state.toJS();\n\n  if (page.pageNow < Math.ceil(page.articleList.length / 3)) {\n    page.pageNow++;\n    return state.set('pageNow', page.pageNow);\n  } else {\n    return state.set('pageNow', page.pageNow).set('lastArticle', true);\n  }\n};\n\nexport default ((state = defaultState, action) => {\n  switch (action.type) {\n    case actionTypes.GENERATE_INITIAL_DATA:\n      return generate_initial_data(state, action);\n\n    case actionTypes.MORE_PAGE:\n      return more_page(state);\n    // case (actionTypes.SCROLLTOPSHOWN):\n    //     return state.set('backToTopShown',action.value);\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/duke/Desktop/WorkingasOne/WorkingasOne/src/pages/home/store/reducer.js"],"names":["fromJS","actionTypes","recommend_list_1","recommend_list_2","recommend_list_3","recommend_list_4","defaultState","pageNow","lastArticle","articleList","recommendList","generate_initial_data","state","action","newRecommendList","pic","set","more_page","page","toJS","Math","ceil","length","type","GENERATE_INITIAL_DATA","MORE_PAGE"],"mappings":"AAAA,SAASA,MAAT,QAAuB,WAAvB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;AAEA,MAAMC,YAAY,GAAGN,MAAM,CAAC;AACxBO,EAAAA,OAAO,EAAE,CADe;AAExBC,EAAAA,WAAW,EAAE,KAFW;AAGxBC,EAAAA,WAAW,EAAE,EAHW;AAIxBC,EAAAA,aAAa,EAAE,EAJS,CAKxB;;AALwB,CAAD,CAA3B;;AAQA,MAAMC,qBAAqB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC7C,MAAIC,gBAAgB,GAAGD,MAAM,CAACH,aAA9B;AACAI,EAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBC,GAApB,GAA0Bb,gBAA1B;AACAY,EAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBC,GAApB,GAA0BZ,gBAA1B;AACAW,EAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBC,GAApB,GAA0BX,gBAA1B;AACAU,EAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBC,GAApB,GAA0BV,gBAA1B;AACA,SAAOO,KAAK,CAACI,GAAN,CAAU,eAAV,EAA0BF,gBAA1B,CAAP;AACH,CAPD;;AASA,MAAMG,SAAS,GAAIL,KAAD,IAAW;AACzB,MAAIM,IAAI,GAAGN,KAAK,CAACO,IAAN,EAAX;;AACA,MAAID,IAAI,CAACX,OAAL,GAAea,IAAI,CAACC,IAAL,CAAUH,IAAI,CAACT,WAAL,CAAiBa,MAAjB,GAA0B,CAApC,CAAnB,EAA2D;AACvDJ,IAAAA,IAAI,CAACX,OAAL;AACA,WAAOK,KAAK,CAACI,GAAN,CAAU,SAAV,EAAoBE,IAAI,CAACX,OAAzB,CAAP;AACH,GAHD,MAGO;AACH,WAAOK,KAAK,CAACI,GAAN,CAAU,SAAV,EAAoBE,IAAI,CAACX,OAAzB,EAAkCS,GAAlC,CAAsC,aAAtC,EAAoD,IAApD,CAAP;AACH;AACJ,CARD;;AAUA,gBAAe,CAACJ,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AAC7C,UAAOA,MAAM,CAACU,IAAd;AACI,SAAMtB,WAAW,CAACuB,qBAAlB;AACI,aAAOb,qBAAqB,CAACC,KAAD,EAAOC,MAAP,CAA5B;;AACJ,SAAMZ,WAAW,CAACwB,SAAlB;AACI,aAAOR,SAAS,CAACL,KAAD,CAAhB;AACJ;AACA;;AACA;AAAS,aAAOA,KAAP;AAPb;AASH,CAVD","sourcesContent":["import { fromJS } from 'immutable';\nimport * as actionTypes from './actionTypes';\nimport recommend_list_1 from '../../../statics/recommend-list-1.png';\nimport recommend_list_2 from '../../../statics/recommend-list-2.png';\nimport recommend_list_3 from '../../../statics/recommend-list-3.png';\nimport recommend_list_4 from '../../../statics/recommend-list-4.png';\n\nconst defaultState = fromJS({\n    pageNow: 1,\n    lastArticle: false,\n    articleList: [],\n    recommendList: [],\n    // backToTopShown: false\n});\n\nconst generate_initial_data = (state, action) => {\n    var newRecommendList = action.recommendList;\n    newRecommendList[0].pic = recommend_list_1;\n    newRecommendList[1].pic = recommend_list_2;\n    newRecommendList[2].pic = recommend_list_3;\n    newRecommendList[3].pic = recommend_list_4;\n    return state.set('recommendList',newRecommendList);\n}\n\nconst more_page = (state) => {\n    var page = state.toJS()\n    if (page.pageNow < Math.ceil(page.articleList.length / 3)) { \n        page.pageNow++;\n        return state.set('pageNow',page.pageNow);\n    } else {\n        return state.set('pageNow',page.pageNow).set('lastArticle',true);   \n    }\n}\n\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case (actionTypes.GENERATE_INITIAL_DATA):\n            return generate_initial_data(state,action);\n        case (actionTypes.MORE_PAGE):\n            return more_page(state);\n        // case (actionTypes.SCROLLTOPSHOWN):\n        //     return state.set('backToTopShown',action.value);\n        default: return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}