{"ast":null,"code":"var _jsxFileName = \"/Users/duke/Desktop/workspace/React/jianshu/src/common/header/index.js\";\nimport React, { Component } from 'react';\nimport { HeaderWrapper, Logo, Nav, NavItem, NavSearch, SearchInfo, SearchInfoTitle, SearchInfoSwitch, SearchInfoList, SearchInfoItem, SearchWrapper, Addition, Button } from './style.js';\nimport { CSSTransition } from 'react-transition-group';\nimport { actionCreators } from './store';\nimport { connect } from 'react-redux';\n\nclass Header extends Component {\n  searchInfo(shown) {\n    const _this$props = this.props,\n          list = _this$props.list,\n          mouseIn = _this$props.mouseIn,\n          page = _this$props.page,\n          totalPage = _this$props.totalPage,\n          handleMouseEnter = _this$props.handleMouseEnter,\n          handleMouseOut = _this$props.handleMouseOut,\n          huanYiPi = _this$props.huanYiPi;\n    const newlist = list.slice((page - 1) * 10, page * 10);\n\n    if (shown || mouseIn) {\n      return React.createElement(SearchInfo, {\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, React.createElement(SearchInfoTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, \"\\u70ED\\u95E8\\u641C\\u7D22\", React.createElement(SearchInfoSwitch, {\n        onClick: () => huanYiPi(page, totalPage, this.spinIcon),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        ref: icon => {\n          this.spinIcon = icon;\n        },\n        className: \"iconfont spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, \"\\uE851\"), \"\\u6362\\u4E00\\u6279\")), React.createElement(SearchInfoList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, newlist.map((item, index) => {\n        return React.createElement(SearchInfoItem, {\n          key: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, item);\n      })));\n    }\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          focused = _this$props2.focused,\n          handleFocus = _this$props2.handleFocus,\n          handleUnFocus = _this$props2.handleUnFocus;\n    return React.createElement(HeaderWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(Logo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }), React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      className: \"left shouyeInNavItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"\\u9996\\u9875\"), React.createElement(NavItem, {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"\\u4E0B\\u8F7DApp\"), React.createElement(NavItem, {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"\\u767B\\u5F55\"), React.createElement(NavItem, {\n      className: \"right diamond\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), React.createElement(NavItem, {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"iconfont Aa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"\\uE636\")), React.createElement(SearchWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(CSSTransition, {\n      in: focused,\n      timeout: 350,\n      classNames: \"slide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(NavSearch, {\n      className: focused ? 'focused' : '',\n      onFocus: handleFocus,\n      onBlur: handleUnFocus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: focused ? 'focused iconfont zoom' : 'iconfont zoom',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"\\uE62D\"), this.searchInfo(focused))), React.createElement(Addition, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"writting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"\\uE66F\"), \" \\u5199\\u6587\\u7AE0\"), React.createElement(Button, {\n      className: \"reg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"\\u6CE8\\u518C\")));\n  }\n\n}\n\nvar rotation = 0;\n\nconst mapStateToProps = state => {\n  return {\n    focused: state.get('header').get('focused'),\n    mouseIn: state.get('header').get('mouseIn'),\n    list: state.get('header').get('list'),\n    page: state.get('header').get('page'),\n    totalPage: state.get('header').get('totalPage')\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleFocus() {\n      // 获取AJAX\n      dispatch(actionCreators.getList());\n      dispatch(actionCreators.focus_on);\n    },\n\n    handleUnFocus() {\n      dispatch(actionCreators.focus_off);\n    },\n\n    handleMouseEnter() {\n      dispatch(actionCreators.mouse_enter);\n    },\n\n    handleMouseOut() {\n      dispatch(actionCreators.mouse_out);\n    },\n\n    huanYiPi(page, totalPage, spin) {\n      spin.style.transform = 'rotate(' + (rotation += 360) + 'deg)';\n      var newPage = page + 1;\n      if (page === totalPage) newPage = 1;\n      dispatch(actionCreators.huanYiPi(newPage));\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["/Users/duke/Desktop/workspace/React/jianshu/src/common/header/index.js"],"names":["React","Component","HeaderWrapper","Logo","Nav","NavItem","NavSearch","SearchInfo","SearchInfoTitle","SearchInfoSwitch","SearchInfoList","SearchInfoItem","SearchWrapper","Addition","Button","CSSTransition","actionCreators","connect","Header","searchInfo","shown","props","list","mouseIn","page","totalPage","handleMouseEnter","handleMouseOut","huanYiPi","newlist","slice","spinIcon","icon","map","item","index","render","focused","handleFocus","handleUnFocus","rotation","mapStateToProps","state","get","mapDispatchToProps","dispatch","getList","focus_on","focus_off","mouse_enter","mouse_out","spin","style","transform","newPage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { HeaderWrapper, Logo, Nav, NavItem, NavSearch, SearchInfo, SearchInfoTitle, SearchInfoSwitch, SearchInfoList, SearchInfoItem, SearchWrapper, Addition, Button } from './style.js';\nimport { CSSTransition } from 'react-transition-group';\nimport { actionCreators } from './store';\nimport { connect } from 'react-redux';\n\nclass Header extends Component {\n\n    searchInfo(shown) {\n        const { list, mouseIn, page, totalPage, handleMouseEnter, handleMouseOut, huanYiPi } = this.props;\n        const newlist = list.slice((page-1)*10,page*10);\n        if (shown || mouseIn) {\n            return (\n            <SearchInfo onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseOut}>\n                <SearchInfoTitle>\n                    热门搜索\n                    <SearchInfoSwitch onClick={() => huanYiPi(page, totalPage, this.spinIcon)}>\n                        <span ref={(icon) => {this.spinIcon = icon}} className=\"iconfont spin\">&#xe851;</span>换一批\n                    </SearchInfoSwitch>\n                </SearchInfoTitle>\n                <SearchInfoList>\n                    {newlist.map((item, index) => {\n                        return <SearchInfoItem key={item}>{item}</SearchInfoItem>\n                    })}\n                </SearchInfoList>\n            </SearchInfo> )\n        }\n    }\n\n    render() {\n        const { focused, handleFocus, handleUnFocus } = this.props;\n        return (\n            <HeaderWrapper>\n                <Logo />\n                <Nav>\n                    <NavItem className=\"left shouyeInNavItem\">首页</NavItem>\n                    <NavItem className=\"left\">下载App</NavItem>\n                    <NavItem className=\"right\">登录</NavItem>\n                    <NavItem className=\"right diamond\"></NavItem>\n                    <NavItem className=\"right\">\n                        <span className=\"iconfont Aa\">&#xe636;</span>\n                    </NavItem>\n                    <SearchWrapper>\n                        <CSSTransition in={focused} timeout={350} classNames=\"slide\">\n                            <NavSearch className={focused ? 'focused' : ''} onFocus={handleFocus} onBlur={handleUnFocus}></NavSearch>\n                        </CSSTransition>\n                            <span className={focused ? 'focused iconfont zoom' : 'iconfont zoom'}>&#xe62d;</span>\n                        {this.searchInfo(focused)}\n                    </SearchWrapper>\n                </Nav>\n                <Addition>\n                    <Button className=\"writting\">\n                    <span className=\"iconfont\">&#xe66f;</span> 写文章\n                    </Button>\n                    <Button className=\"reg\">注册</Button>\n                </Addition>\n            </HeaderWrapper>\n        )\n    }\n}\n\nvar rotation = 0;\n\nconst mapStateToProps = (state) => {\n    return {\n        focused: state.get('header').get('focused'),\n        mouseIn: state.get('header').get('mouseIn'),\n        list: state.get('header').get('list'),\n        page: state.get('header').get('page'),\n        totalPage: state.get('header').get('totalPage')\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        handleFocus() {\n            // 获取AJAX\n            dispatch(actionCreators.getList())\n            dispatch(actionCreators.focus_on);\n        },\n        handleUnFocus() {\n            dispatch(actionCreators.focus_off);\n        },\n        handleMouseEnter() {\n            dispatch(actionCreators.mouse_enter);\n        },\n        handleMouseOut() {\n            dispatch(actionCreators.mouse_out);\n        },\n        huanYiPi(page, totalPage, spin) {\n            spin.style.transform = 'rotate(' + (rotation+=360) + 'deg)';\n            var newPage = page + 1;\n            if (page === totalPage) newPage = 1;\n            dispatch(actionCreators.huanYiPi(newPage));\n        }\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Header);"]},"metadata":{},"sourceType":"module"}