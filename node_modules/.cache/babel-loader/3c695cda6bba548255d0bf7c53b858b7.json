{"ast":null,"code":"import _classCallCheck from\"/Users/duke/Desktop/WorkingasOne/WorkingasOne/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/duke/Desktop/WorkingasOne/WorkingasOne/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/duke/Desktop/WorkingasOne/WorkingasOne/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/duke/Desktop/WorkingasOne/WorkingasOne/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/duke/Desktop/WorkingasOne/WorkingasOne/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/duke/Desktop/WorkingasOne/WorkingasOne/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{PureComponent}from'react';import List from'./components/List';import Recommend from'./components/Recommend';import Writer from'./components/Writer';import{HomeWrapper,HomeLeft,HomeRight,BackTop}from'./style';import{connect}from'react-redux';import*as actionCreators from'./store/actionCreators';var Home=/*#__PURE__*/function(_PureComponent){_inherits(Home,_PureComponent);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.state={backToTopShown:false};_this.changeScrollShow=_this.changeScrollShow.bind(_assertThisInitialized(_this));return _this;}_createClass(Home,[{key:\"render\",value:function render(){return React.createElement(HomeWrapper,null,React.createElement(HomeLeft,null,React.createElement(List,null)),React.createElement(HomeRight,null,React.createElement(Recommend,null),React.createElement(Writer,null)),this.state.backToTopShown?React.createElement(BackTop,{onClick:this.backToTop},\"\\u4E2A\"):'');}},{key:\"componentDidMount\",value:function componentDidMount(){this.props.generateList();this.bindEvents();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('scroll',this.changeScrollShow);}},{key:\"bindEvents\",value:function bindEvents(){window.addEventListener('scroll',this.changeScrollShow);}},{key:\"backToTop\",value:function backToTop(){window.scrollTo(0,0);}},{key:\"changeScrollShow\",value:function changeScrollShow(){if(document.documentElement.scrollTop>300){this.setState({backToTopShown:true});}else{this.setState({backToTopShown:false});}}}]);return Home;}(PureComponent);var mapStateToProps=function mapStateToProps(state){return{// backToTopShown: state.get('home').get('backToTopShown')\n};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{generateList:function generateList(){dispatch(actionCreators.generateList());}// changeScrollShow() {\n//     if(document.documentElement.scrollTop > 300) {\n//         dispatch(actionCreators.scrollTopShow);\n//     } else {\n//         dispatch(actionCreators.scrollTopUnshow);\n//     }\n// }\n};};export default connect(mapStateToProps,mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/duke/Desktop/WorkingasOne/WorkingasOne/src/pages/home/index.js"],"names":["React","PureComponent","List","Recommend","Writer","HomeWrapper","HomeLeft","HomeRight","BackTop","connect","actionCreators","Home","props","state","backToTopShown","changeScrollShow","bind","backToTop","generateList","bindEvents","window","removeEventListener","addEventListener","scrollTo","document","documentElement","scrollTop","setState","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"8xBAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,KAAqC,OAArC,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,WAAT,CAAsBC,QAAtB,CAAgCC,SAAhC,CAA2CC,OAA3C,KAA0D,SAA1D,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,wBAAhC,C,GAEMC,CAAAA,I,sEAEF,cAAYC,KAAZ,CAAkB,sCACd,sEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,cAAc,CAAE,KADP,CAAb,CAGA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,+BAAxB,CALc,aAMjB,C,wDAEQ,CACL,MACI,qBAAC,WAAD,MACI,oBAAC,QAAD,MACI,oBAAC,IAAD,MADJ,CADJ,CAII,oBAAC,SAAD,MACI,oBAAC,SAAD,MADJ,CAEI,oBAAC,MAAD,MAFJ,CAJJ,CAQK,KAAKH,KAAL,CAAWC,cAAX,CAA4B,oBAAC,OAAD,EAAS,OAAO,CAAE,KAAKG,SAAvB,WAA5B,CAA4E,EARjF,CADJ,CAYH,C,6DAEmB,CAChB,KAAKL,KAAL,CAAWM,YAAX,GACA,KAAKC,UAAL,GACH,C,mEAEsB,CACnBC,MAAM,CAACC,mBAAP,CAA2B,QAA3B,CAAqC,KAAKN,gBAA1C,EACH,C,+CAEW,CACRK,MAAM,CAACE,gBAAP,CAAwB,QAAxB,CAAkC,KAAKP,gBAAvC,EACH,C,6CAEU,CACPK,MAAM,CAACG,QAAP,CAAgB,CAAhB,CAAkB,CAAlB,EACH,C,2DAEkB,CACf,GAAGC,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAqC,GAAxC,CAA6C,CACzC,KAAKC,QAAL,CAAc,CACVb,cAAc,CAAG,IADP,CAAd,EAGH,CAJD,IAIO,CACH,KAAKa,QAAL,CAAc,CACVb,cAAc,CAAG,KADP,CAAd,EAGH,CACJ,C,kBApDcb,a,EAuDnB,GAAM2B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACf,KAAD,CAAW,CAC/B,MAAO,CACH;AADG,CAAP,CAGH,CAJD,CAMA,GAAMgB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACrC,MAAO,CACHZ,YADG,wBACY,CACXY,QAAQ,CAACpB,cAAc,CAACQ,YAAf,EAAD,CAAR,CACH,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AAVG,CAAP,CAYH,CAbD,CAeA,cAAeT,CAAAA,OAAO,CAACmB,eAAD,CAAiBC,kBAAjB,CAAP,CAA4ClB,IAA5C,CAAf","sourcesContent":["import React, { PureComponent } from 'react';\nimport List from './components/List';\nimport Recommend from './components/Recommend';\nimport Writer from './components/Writer';\nimport { HomeWrapper, HomeLeft, HomeRight, BackTop } from './style';\nimport { connect } from 'react-redux';\nimport * as actionCreators from './store/actionCreators';\n\nclass Home extends PureComponent {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            backToTopShown: false\n        };\n        this.changeScrollShow = this.changeScrollShow.bind(this);\n    }\n\n    render() {\n        return (\n            <HomeWrapper>\n                <HomeLeft>\n                    <List />\n                </HomeLeft>\n                <HomeRight>\n                    <Recommend />\n                    <Writer />\n                </HomeRight>\n                {this.state.backToTopShown ? <BackTop onClick={this.backToTop}>ä¸ª</BackTop> : ''}\n            </HomeWrapper>\n        );\n    }\n\n    componentDidMount() {\n        this.props.generateList();\n        this.bindEvents();\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('scroll', this.changeScrollShow)\n    }\n\n    bindEvents(){\n        window.addEventListener('scroll', this.changeScrollShow)\n    }\n\n    backToTop(){\n        window.scrollTo(0,0);\n    }\n\n    changeScrollShow() {\n        if(document.documentElement.scrollTop > 300) {\n            this.setState({\n                backToTopShown : true\n            });\n        } else {\n            this.setState({\n                backToTopShown : false\n            });\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        // backToTopShown: state.get('home').get('backToTopShown')\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        generateList() {\n            dispatch(actionCreators.generateList());\n        }\n        // changeScrollShow() {\n        //     if(document.documentElement.scrollTop > 300) {\n        //         dispatch(actionCreators.scrollTopShow);\n        //     } else {\n        //         dispatch(actionCreators.scrollTopUnshow);\n        //     }\n        // }\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Home);"]},"metadata":{},"sourceType":"module"}