{"ast":null,"code":"import{fromJS}from'immutable';import*as actionTypes from'./actionTypes';import list_pic_1 from'../../../statics/list-pic-1.jpeg';import recommend_list_1 from'../../../statics/recommend-list-1.png';import recommend_list_2 from'../../../statics/recommend-list-2.png';import recommend_list_3 from'../../../statics/recommend-list-3.png';import recommend_list_4 from'../../../statics/recommend-list-4.png';var defaultState=fromJS({pageNow:1,lastArticle:false,articleList:[],recommendList:[]// backToTopShown: false\n});var generate_initial_data=function generate_initial_data(state,action){var newArticleList=action.articleList;newArticleList.map(function(item){item.pic=list_pic_1;return item;});var newRecommendList=action.recommendList;newRecommendList[0].pic=recommend_list_1;newRecommendList[1].pic=recommend_list_2;newRecommendList[2].pic=recommend_list_3;newRecommendList[3].pic=recommend_list_4;return state.merge({articleList:fromJS(newArticleList),recommendList:fromJS(newRecommendList)});};var more_page=function more_page(state){var page=state.toJS();if(page.pageNow<Math.ceil(page.articleList.length/3)){page.pageNow++;return state.set('pageNow',page.pageNow);}else{return state.set('pageNow',page.pageNow).set('lastArticle',true);}};export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actionTypes.GENERATE_INITIAL_DATA:return generate_initial_data(state,action);case actionTypes.MORE_PAGE:return more_page(state);// case (actionTypes.SCROLLTOPSHOWN):\n//     return state.set('backToTopShown',action.value);\ndefault:return state;}});","map":{"version":3,"sources":["/Users/duke/Desktop/WorkingasOne/WorkingasOne/src/pages/home/store/reducer.js"],"names":["fromJS","actionTypes","list_pic_1","recommend_list_1","recommend_list_2","recommend_list_3","recommend_list_4","defaultState","pageNow","lastArticle","articleList","recommendList","generate_initial_data","state","action","newArticleList","map","item","pic","newRecommendList","merge","more_page","page","toJS","Math","ceil","length","set","type","GENERATE_INITIAL_DATA","MORE_PAGE"],"mappings":"AAAA,OAASA,MAAT,KAAuB,WAAvB,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,eAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,kCAAvB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uCAA7B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uCAA7B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uCAA7B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uCAA7B,CAEA,GAAMC,CAAAA,YAAY,CAAGP,MAAM,CAAC,CACxBQ,OAAO,CAAE,CADe,CAExBC,WAAW,CAAE,KAFW,CAGxBC,WAAW,CAAE,EAHW,CAIxBC,aAAa,CAAE,EACf;AALwB,CAAD,CAA3B,CAQA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC7C,GAAIC,CAAAA,cAAc,CAAGD,MAAM,CAACJ,WAA5B,CACAK,cAAc,CAACC,GAAf,CAAmB,SAACC,IAAD,CAAQ,CACvBA,IAAI,CAACC,GAAL,CAAWhB,UAAX,CACA,MAAOe,CAAAA,IAAP,CACH,CAHD,EAIA,GAAIE,CAAAA,gBAAgB,CAAGL,MAAM,CAACH,aAA9B,CACAQ,gBAAgB,CAAC,CAAD,CAAhB,CAAoBD,GAApB,CAA0Bf,gBAA1B,CACAgB,gBAAgB,CAAC,CAAD,CAAhB,CAAoBD,GAApB,CAA0Bd,gBAA1B,CACAe,gBAAgB,CAAC,CAAD,CAAhB,CAAoBD,GAApB,CAA0Bb,gBAA1B,CACAc,gBAAgB,CAAC,CAAD,CAAhB,CAAoBD,GAApB,CAA0BZ,gBAA1B,CACA,MAAOO,CAAAA,KAAK,CAACO,KAAN,CAAY,CACfV,WAAW,CAAEV,MAAM,CAACe,cAAD,CADJ,CAEfJ,aAAa,CAAEX,MAAM,CAACmB,gBAAD,CAFN,CAAZ,CAAP,CAIH,CAfD,CAiBA,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACR,KAAD,CAAW,CACzB,GAAIS,CAAAA,IAAI,CAAGT,KAAK,CAACU,IAAN,EAAX,CACA,GAAID,IAAI,CAACd,OAAL,CAAegB,IAAI,CAACC,IAAL,CAAUH,IAAI,CAACZ,WAAL,CAAiBgB,MAAjB,CAA0B,CAApC,CAAnB,CAA2D,CACvDJ,IAAI,CAACd,OAAL,GACA,MAAOK,CAAAA,KAAK,CAACc,GAAN,CAAU,SAAV,CAAoBL,IAAI,CAACd,OAAzB,CAAP,CACH,CAHD,IAGO,CACH,MAAOK,CAAAA,KAAK,CAACc,GAAN,CAAU,SAAV,CAAoBL,IAAI,CAACd,OAAzB,EAAkCmB,GAAlC,CAAsC,aAAtC,CAAoD,IAApD,CAAP,CACH,CACJ,CARD,CAUA,eAAe,UAAkC,IAAjCd,CAAAA,KAAiC,2DAAzBN,YAAyB,IAAXO,CAAAA,MAAW,2CAC7C,OAAOA,MAAM,CAACc,IAAd,EACI,IAAM3B,CAAAA,WAAW,CAAC4B,qBAAlB,CACI,MAAOjB,CAAAA,qBAAqB,CAACC,KAAD,CAAOC,MAAP,CAA5B,CACJ,IAAMb,CAAAA,WAAW,CAAC6B,SAAlB,CACI,MAAOT,CAAAA,SAAS,CAACR,KAAD,CAAhB,CACJ;AACA;AACA,QAAS,MAAOA,CAAAA,KAAP,CAPb,CASH,CAVD","sourcesContent":["import { fromJS } from 'immutable';\nimport * as actionTypes from './actionTypes';\nimport list_pic_1 from '../../../statics/list-pic-1.jpeg';\nimport recommend_list_1 from '../../../statics/recommend-list-1.png';\nimport recommend_list_2 from '../../../statics/recommend-list-2.png';\nimport recommend_list_3 from '../../../statics/recommend-list-3.png';\nimport recommend_list_4 from '../../../statics/recommend-list-4.png';\n\nconst defaultState = fromJS({\n    pageNow: 1,\n    lastArticle: false,\n    articleList: [],\n    recommendList: [],\n    // backToTopShown: false\n});\n\nconst generate_initial_data = (state, action) => {\n    var newArticleList = action.articleList;\n    newArticleList.map((item)=>{\n        item.pic = list_pic_1;\n        return item;\n    })\n    var newRecommendList = action.recommendList;\n    newRecommendList[0].pic = recommend_list_1;\n    newRecommendList[1].pic = recommend_list_2;\n    newRecommendList[2].pic = recommend_list_3;\n    newRecommendList[3].pic = recommend_list_4;\n    return state.merge({\n        articleList: fromJS(newArticleList),\n        recommendList: fromJS(newRecommendList)\n    })\n}\n\nconst more_page = (state) => {\n    var page = state.toJS()\n    if (page.pageNow < Math.ceil(page.articleList.length / 3)) { \n        page.pageNow++;\n        return state.set('pageNow',page.pageNow);\n    } else {\n        return state.set('pageNow',page.pageNow).set('lastArticle',true);   \n    }\n}\n\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case (actionTypes.GENERATE_INITIAL_DATA):\n            return generate_initial_data(state,action);\n        case (actionTypes.MORE_PAGE):\n            return more_page(state);\n        // case (actionTypes.SCROLLTOPSHOWN):\n        //     return state.set('backToTopShown',action.value);\n        default: return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}